--- Include/pyport.h
+++ Include/pyport.h
@@ -368,6 +368,14 @@
 #define S_IFMT 0170000
 #endif
 
+#ifdef __CloudABI__
+/* CloudABI cloudlibc doesn't define S_IF* */
+#define S_IFLNK 0x900000
+#define S_IFREG 0x600000
+#define S_IFDIR 0x200000
+#define S_IFCHR 0x110000
+#endif
+
 #ifndef S_IFLNK
 /* Windows doesn't define S_IFLNK but posixmodule.c maps
  * IO_REPARSE_TAG_SYMLINK to S_IFLNK */
